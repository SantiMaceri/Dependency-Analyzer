_clarin.sw.firebase={};_clarin.sw.firebase.getConfig=function(){return{apiKey:"AIzaSyC3LVr14rt1aYDy5GYvE5NHB1Qjd3oCcLM",authDomain:"clarinwebpush.firebaseapp.com",databaseURL:"https://clarinwebpush.firebaseio.com",projectId:"clarinwebpush",storageBucket:"clarinwebpush.appspot.com",messagingSenderId:"738620085847"};};_clarin.sw.firebase.getMessaging=function(){if(_clarin.sw.serviceWorker){if(typeof messaging!=typeof undefined){return messaging;}
firebase.initializeApp(_clarin.sw.firebase.getConfig());messaging=firebase.messaging();messaging.useServiceWorker(_clarin.sw.serviceWorker);messaging.onTokenRefresh(_clarin.sw.firebase.getToken);return messaging;}else{throw 'Service worker no registrado';}};_clarin.sw.firebase.appendScript=function(callback){if($('#firebaseScript').length==0){var elm=document.createElement('script');$('head').append(elm);elm.onload=callback;elm.src='https://www.gstatic.com/firebasejs/5.7.1/firebase.js';elm.id='firebaseScript';}else{callback.call(this);}};_clarin.sw.firebase.getToken=function(msgObject,callback){msgObject.getToken().then(function(currentToken){if(currentToken){callback.call(this,currentToken);}else{_clarin.sw.notifications.setStatusPopup('Ha ocurrido un error inesperado. Vuelva a intentarlo.');_clarin.sw.notifications.popup('#'+_clarin.sw.notifications.statusModalId);}}).catch(function(err){_clarin.sw.notifications.setStatusPopup('Ha ocurrido un error inesperado. Vuelva a intentarlo.');_clarin.sw.notifications.popup('#'+_clarin.sw.notifications.statusModalId);})};